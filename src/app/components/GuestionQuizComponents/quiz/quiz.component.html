<body>
  <app-front-header></app-front-header>
  <div class="page-content">
    <br><br><br>

    <head>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
      <style>
        body {
          display: flex;
          flex-direction: column;
          min-height: 100vh;
          margin: 0;
          background-image: url('/assets/background_take_quiz.png');
          background-size: cover;
          background-position: center;
          background-repeat: no-repeat;
          background-attachment: fixed;
        }

        .page-content {
          flex: 1; /* Permet au contenu de prendre tout l'espace disponible */
        }

        .actions-column {
          width: 271px;
          text-align: center;
        }

        .btn {
          padding: 6px 16px;
        }

        th {
          background-color: #007bff !important;
          color: white !important;
          padding: 10px !important;
          text-align: center !important;
        }

        tbody tr {
          background-color: rgba(255, 255, 255, 0.866) !important;
        }

        table {
          border-radius: 10px !important;
          overflow: hidden;
        }

        .container table {
          border: 3px solid #007bff !important;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
        }

        table,
        th,
        td {
          text-align: center !important;
          vertical-align: middle !important;
          border: 1px solid #000000 !important;
        }

        h2 {
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          font-size: 2.5rem;
          color: #333;
          text-align: center;
          padding: 4px 0;
          background: linear-gradient(to right, #56CCF2, #2F80ED);
          color: white;
          border-radius: 10px;
          text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
        }

        .certified-quiz {
          color: red;
        }

        .training-quiz {
          color: green;
        }

        .button-container {
          display: flex; /* Pour aligner les boutons horizontalement */
          justify-content: space-between; /* Espacement maximal entre les boutons */
          align-items: center; /* Alignement vertical au centre */
          padding: 2px; /* Ajoute un peu d'espace autour des boutons */
        }

        .ai-button {
          background: linear-gradient(135deg, #007bff, #6610f2); /* Dégradé de couleurs moderne */
          color: white;
          padding: 8px 18px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 1.1em;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
          transition: background 0.3s ease, transform 0.2s ease;
          display: flex; /* Pour aligner le texte et l'icône */
          align-items: center;
          gap: 8px; /* Espace entre le texte et l'icône */
        }

        .ai-button:hover {
          background: linear-gradient(135deg, #0056b3, #4c0eb0); /* Dégradé plus foncé au survol */
          transform: translateY(-2px); /* Léger décalage vers le haut au survol */
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .ai-icon {
          font-size: 1.2em; /* Taille de l'icône */
          margin-left: 5px; /* Espace à gauche de l'icône */
        }

        .add-quiz-button {
          background-color: #28a745;
          color: white;
          padding: 8px 18px; /* Même padding que le bouton AI */
          border: none;
          border-radius: 8px; /* Même border-radius que le bouton AI */
          cursor: pointer;
          font-size: 1.1em; /* Même font-size que le bouton AI */
          transition: background-color 0.3s ease, transform 0.2s ease; /* Ajout de la transition */
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Ajout de l'ombre */
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .add-quiz-button:hover {
          background-color: #218838;
          transform: translateY(-2px);
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
      </style>
    </head>

    <div class="container">
      <h2>Quizs List</h2> <br>

      <div class="mb-3 input-group">
        <input type="text" class="form-control" placeholder="Rechercher un quiz..." [(ngModel)]="searchTerm"
          (input)="filterQuizzes()" />
        <span class="input-group-text">
          <i class="fas fa-search"></i>
        </span>
      </div>

      <div class="button-container">
        <button class="add-quiz-button" [routerLink]="['/add-quiz']">Add a Quiz<i class="fas fa-plus"></i></button>
        <button class="ai-button" [routerLink]="['/quiz-generator']">Generate Training Quiz with AI<i class="fas fa-brain ai-icon"></i> </button>
      </div>

      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Title</th>
            <th>Duration</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Price</th>
            <th>Type</th>
            <th class="actions-column">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let quiz of filteredQuizzes">
            <td>{{ quiz.titleQuiz }}</td>
            <td>{{ quiz.duration }}</td>
            <td>{{ quiz.startDate | date:'dd/MM/yyyy HH:mm' }}</td>
            <td>{{ quiz.endDate | date:'dd/MM/yyyy HH:mm' }}</td>
            <td>{{ quiz.price }}$</td>
            <td [ngClass]="{'certified-quiz': quiz.type === 'CERTIFIED_QUIZ', 'training-quiz': quiz.type === 'TRAINING_QUIZ'}">{{ quiz.type }}</td>
            <td class="actions-column">
              <button class="btn btn-warning" [routerLink]="['/update-quiz', quiz.idQuiz]">
                <i class="fas fa-edit"></i>
              </button>
              <button (click)="deleteQuiz(quiz.idQuiz)" class="btn btn-danger">
                <i class="fas fa-trash"></i>
              </button>
              <button class="btn btn-primary" [routerLink]="['/questions', quiz.idQuiz]">View Questions</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <br><br><br>
  </div>

  <app-front-footer></app-front-footer>
</body>